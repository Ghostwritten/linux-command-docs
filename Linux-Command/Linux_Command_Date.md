# Linux Command date 显示时间
tags: 系统设置

## 1. 简介
命令功能：date 可以用来显示或设定系统的日期与时间。
## 2. 参数
```bash
-d<字符串>：显示字符串所指的日期与时间。字符串前后必须加上双引号； 
-s<字符串>：根据字符串来设置日期与时间。字符串前后必须加上双引号； 
-u：显示GMT； 
--help：在线帮助； 
--version：显示版本信息。
```

## 3. 日期格式
如果需要以指定的格式显示日期，可以使用“+”开头的字符串指定其格式

```bash
%H 小时(以00-23来表示)。 
%I 小时(以01-12来表示)。 
%K 小时(以0-23来表示)。 
%l 小时(以0-12来表示)。 
%M 分钟(以00-59来表示)。 
%P AM或PM。 
%r 时间(含时分秒，小时以12小时AM/PM来表示)。 
%s 总秒数。起算时间为1970-01-01 00:00:00 UTC。 
%S 秒(以本地的惯用法来表示)。 
%T 时间(含时分秒，小时以24小时制来表示)。 
%X 时间(以本地的惯用法来表示)。 
%Z 市区。 
%a 星期的缩写。 
%A 星期的完整名称。 
%b 月份英文名的缩写。 
%B 月份的完整英文名称。 
%c 日期与时间。只输入date指令也会显示同样的结果。 
%d 日期(以01-31来表示)。 
%D 日期(含年月日)。 
%j 该年中的第几天。 
%m 月份(以01-12来表示)。 
%U 该年中的周数。 
%w 该周的天数，0代表周日，1代表周一，异词类推。 
%x 日期(以本地的惯用法来表示)。 
%y 年份(以00-99来表示)。 
%Y 年份(以四位数来表示)。 
%n 在显示时，插入新的一行。 
%t 在显示时，插入tab。 
MM 月份(必要) 
DD 日期(必要) 
hh 小时(必要) 
mm 分钟(必要)
ss 秒(选择性) 
```

## 4. 实例
格式化输出：

```bash
$ date +"%Y-%m-%d" 
2015-12-07
```

输出昨天日期：

```bash
$ date -d "1 day ago" +"%Y-%m-%d"
2015-11-19
```

2秒后输出：

```bash
$ -d "2 second" +"%Y-%m-%d %H:%M.%S"
2015-11-20 14:21.31
```

传说中的 1234567890 秒：

```bash
$ date -d "1970-01-01 1234567890 seconds" +"%Y-%m-%d %H:%m:%S"
2009-02-13 23:02:30
```

普通转格式：

```bash
$ date -d "2009-12-12" +"%Y/%m/%d %H:%M.%S"
2009/12/12 00:00.00
```

apache格式转换：

```bash
$ date -d "Dec 5, 2009 12:00:37 AM" +"%Y-%m-%d %H:%M.%S"
2009-12-05 00:00.37
```

格式转换后时间：

```bash
$ date -d "Dec 5, 2009 12:00:37 AM 2 year ago" +"%Y-%m-%d %H:%M.%S"
2007-12-05 00:00.37
```

加减操作：

```bash
$ date +%Y%m%d               #显示前天年月日 
$ date -d "+1 day" +%Y%m%d   #显示前一天的日期 
$ date -d "-1 day" +%Y%m%d   #显示后一天的日期 
$ date -d "-1 month" +%Y%m%d #显示上一月的日期 
$ date -d "+1 month" +%Y%m%d #显示下一月的日期 
$ date -d "-1 year" +%Y%m%d  #显示前一年的日期 
$ date -d "+1 year" +%Y%m%d  #显示下一年的日期
```

设定时间：

```bash
$ date -s          #设置当前时间，只有root权限才能设置，其他只能查看 
$ date -s 20120523 #设置成20120523，这样会把具体时间设置成空00:00:00 
$ date -s 01:01:01 #设置具体时间，不会对日期做更改 
$ date -s "01:01:01 2012-05-23" #这样可以设置全部时间 
$ date -s "01:01:01 20120523"   #这样可以设置全部时间 
$ date -s "2012-05-23 01:01:01" #这样可以设置全部时间 
$ date -s "20120523 01:01:01"   #这样可以设置全部时间
```

检查一组命令花费的时间：

```bash
#!/bin/bash 
start=$(date +%s) 
nmap man.linuxde.net &> /dev/null 
end=$(date +%s) 
difference=$(( end - start )) 
echo $difference seconds.
```

 
 
字符串格式时间戳

```bash
$  date +%s
1436781527
$ date -d '06/12/2018 07:21:22' +"%s"
1528759282
$ date -d '2018-06-12 07:21:22' +"%s"
1528759282
$ date -d "04 June 1989"
1989年 06月 04日 星期日 00:00:00 CDT
```

```bash
$ date -j -f "%Y-%m-%d %H:%M:%S" "2015-07-13 18:02:00" "+%s"
1436781720
```

时间戳 转为时间

```bash
$ date -d @1436781720
2015年 07月 13日 星期一 18:02:00 CST
```
---

![在这里插入图片描述](https://img-blog.csdnimg.cn/b9eb2eba04c144e79ac3672fd67ba515.gif#pic_center)
